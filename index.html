<!DOCTYPE html>
<html>
  <head>
    <title>Flappy Bird Clone</title>
    <style>
      canvas {
        border: 1px solid black;
        display: block;
      }
    </style>
  </head>
  <body>
    <canvas id="gameCanvas"></canvas>
    <script>
      var canvas = document.getElementById("gameCanvas");
      var ctx = canvas.getContext("2d");
      
      // set canvas size to full window size
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
      
      // game variables
      var birdX = canvas.width/4;
      var birdY = canvas.height/2;
      var birdRadius = 20;
      var gravity = 0.5;
      var jumpForce = 10;
      var pipes = [];
      var pipeGap = 150;
      var pipeWidth = 50;
      var pipeSpeed = 5;
      var score = 0;
      
      // game loop
      function gameLoop() {
        // update game state
        update();
        
        // clear canvas
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        
        // draw game objects
        drawBird();
        drawPipes();
        drawScore();
        
        // request next frame of game loop
        requestAnimationFrame(gameLoop);
      }
      
      // update game state
      function update() {
        updateBird();
        updatePipes();
        checkCollisions();
        updateScore();
      }
      
      // update bird position
      function updateBird() {
        birdY += gravity;
        if (isKeyPressed("Space")) {
          birdY -= jumpForce;
        }
      }
      
      // update pipe positions
      function updatePipes() {
        for (var i = 0; i < pipes.length; i++) {
          pipes[i].x -= pipeSpeed;
          if (pipes[i].x + pipeWidth < 0) {
            pipes.splice(i, 1);
            i--;
          }
        }
        if (pipes.length == 0 || pipes[pipes.length-1].x < canvas.width - pipeGap - pipeWidth) {
          var gapY = Math.random() * (canvas.height - pipeGap);
          pipes.push({x: canvas.width, y: gapY, scored: false});
        }
      }
      
      // check for collisions between bird and pipes
      function checkCollisions() {
        // check if bird hits top or bottom of screen
        if (birdY - birdRadius < 0 || birdY + birdRadius > canvas.height) {
          endGame();
        }
        // check if bird hits any pipe
        for (var i = 0; i < pipes.length; i++) {
          if (birdX + birdRadius > pipes[i].x && birdX - birdRadius < pipes[i].x + pipeWidth) {
            if (birdY - birdRadius < pipes[i].y || birdY + birdRadius > pipes[i].y + pipeGap) {
              endGame();
            }
            else if (!pipes[i].scored) {
              pipes[i].scored = true;
              score++;
            }
          }
        }
      }
      
      // update score
      function updateScore() {
        ctx.font = "bold 24px Arial";
        ctx.fillStyle = "black";
        ctx.textAlign = "right";
        ctx.fillText(score, canvas.width-20, 30);
      }
      
      // draw bird
      function drawBird() {
        ctx.beginPath();
        ctx.arc(bird
